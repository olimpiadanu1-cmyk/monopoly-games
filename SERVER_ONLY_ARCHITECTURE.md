# üöÄ Server-Only Architecture - Monopoly Game

## üìã –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–µ–∑ localStorage

### üéØ **–¶–µ–ª—å:**
–£–±—Ä–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç localStorage –∏ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤ JSON —Ñ–∞–π–ª–∞—Ö. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –∏–≥—Ä–µ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö.

### üîÑ **–ö–∞–∫ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞:**

1. **–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** ‚Üí JavaScript –∑–∞–≥—Ä—É–∂–∞–µ—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ —Å Python API —Å–µ—Ä–≤–µ—Ä–∞
2. **–î–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** ‚Üí –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ API
3. **localStorage** ‚Üí –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–∞–∫ –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–µ—à –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
4. **JSON —Ñ–∞–π–ª—ã** ‚Üí –û—Å–Ω–æ–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö

### üèóÔ∏è **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã:**

#### 1. **API –°–µ—Ä–≤–µ—Ä** (`api_server.py`)
- **–ü–æ—Ä—Ç**: 5000
- **–•—Ä–∞–Ω–µ–Ω–∏–µ**: –í—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ JSON —Ñ–∞–π–ª–∞—Ö –≤ –ø–∞–ø–∫–µ `data/`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - `GET /api/status` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
  - `GET /api/data/{type}` - –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞
  - `POST /api/data/{type}` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
  - `GET /api/all-data` - –∑–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö —Å—Ä–∞–∑—É

#### 2. **API –ö–ª–∏–µ–Ω—Ç** (`api_client.js`)
- **–ö–ª–∞—Å—Å**: `MonopolyAPI`
- **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: 5 —Å–µ–∫—É–Ω–¥ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- **Fallback**: –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞

#### 3. **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π script.js**
- **–ó–∞–≥—Ä—É–∑–∫–∞**: `loadAllDataFromServer()` - –∑–∞–≥—Ä—É–∂–∞–µ—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**: `saveToServer()` - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- **localStorage**: –¢–æ–ª—å–∫–æ –∫–∞–∫ –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–µ—à

### üìä **–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**

| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –§–∞–π–ª | –•—Ä–∞–Ω–µ–Ω–∏–µ |
|-----|----------|------|----------|
| `users` | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ | `data/users.json` | ‚úÖ –°–µ—Ä–≤–µ—Ä |
| `applications` | –ó–∞—è–≤–∫–∏ –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é | `data/applications.json` | ‚úÖ –°–µ—Ä–≤–µ—Ä |
| `purchase_requests` | –ó–∞—è–≤–∫–∏ –Ω–∞ –ø–æ–∫—É–ø–∫—É | `data/purchase_requests.json` | ‚úÖ –°–µ—Ä–≤–µ—Ä |
| `task_submissions` | –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è | `data/task_submissions.json` | ‚úÖ –°–µ—Ä–≤–µ—Ä |
| `reward_history` | –ò—Å—Ç–æ—Ä–∏—è –Ω–∞–≥—Ä–∞–¥ | `data/reward_history.json` | ‚úÖ –°–µ—Ä–≤–µ—Ä |
| `leaderboard` | –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤ | `data/leaderboard.json` | ‚úÖ –°–µ—Ä–≤–µ—Ä |
| `cell_tasks` | –ó–∞–¥–∞–Ω–∏—è –¥–ª—è –∫–ª–µ—Ç–æ–∫ | `data/cell_tasks.json` | ‚úÖ –°–µ—Ä–≤–µ—Ä |
| `game_states` | –ò–≥—Ä–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è | `data/game_states.json` | ‚úÖ –°–µ—Ä–≤–µ—Ä |
| `shop_items` | –¢–æ–≤–∞—Ä—ã –º–∞–≥–∞–∑–∏–Ω–∞ | `data/shop_items.json` | ‚úÖ –°–µ—Ä–≤–µ—Ä |
| `shopping_carts` | –ö–æ—Ä–∑–∏–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | `data/shopping_carts.json` | ‚úÖ –°–µ—Ä–≤–µ—Ä |

### üîÑ **–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö:**

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí JavaScript ‚Üí API –ö–ª–∏–µ–Ω—Ç ‚Üí Python API ‚Üí JSON —Ñ–∞–π–ª—ã
     ‚Üë                                                      ‚Üì
localStorage (–∫–µ—à) ‚Üê JavaScript ‚Üê API –ö–ª–∏–µ–Ω—Ç ‚Üê Python API
```

### ‚ö° **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:**

1. **–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –±—Ä–∞—É–∑–µ—Ä–∞** - –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ localStorage
2. **–†–∞–±–æ—Ç–∞ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ** - –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
3. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - –¥–∞–Ω–Ω—ã–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
4. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –¥–∞–Ω–Ω—ã–µ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ –±—Ä–∞—É–∑–µ—Ä–∞
5. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

### üöÄ **–ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã:**

#### Windows:
```bash
# –ó–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–µ—Ä–∞
python api_server.py

# –ó–∞–ø—É—Å–∫ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
python -m http.server 3000

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç
start.bat
```

#### Linux/Mac:
```bash
# –ó–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–µ—Ä–∞
python3 api_server.py

# –ó–∞–ø—É—Å–∫ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
python3 -m http.server 3000

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç
./start.sh
```

### üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
curl http://localhost:5000/api/status

# –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
curl http://localhost:5000/api/data/users

# –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
curl http://localhost:5000/api/all-data

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
curl -X POST http://localhost:5000/api/data/users \
  -H "Content-Type: application/json" \
  -d '[{"id":1,"nick":"test","password":"123"}]'
```

### üìù **–õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:**

- `üîÑ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞...` - –Ω–∞—á–∞–ª–æ –∑–∞–≥—Ä—É–∑–∫–∏
- `‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã —Å —Å–µ—Ä–≤–µ—Ä–∞` - —É—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
- `‚ö†Ô∏è –°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ–º localStorage` - fallback
- `‚úÖ –ò–≥—Ä–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- `‚úÖ –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞
- `‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä` - –æ–±—â–µ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

### üîß **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è production:**

1. **–ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç** –≤ `api_server.py` –∏ `api_client.js`
2. **–î–æ–±–∞–≤—å—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é** –¥–ª—è API
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ HTTPS** –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö** –≤–º–µ—Å—Ç–æ JSON —Ñ–∞–π–ª–æ–≤
5. **–î–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
6. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±—ç–∫–∞–ø—ã** JSON —Ñ–∞–π–ª–æ–≤

### üåê **–î–µ–ø–ª–æ–π –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥:**

#### –î–ª—è VPS/—Å–µ—Ä–≤–µ—Ä–∞:
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
git clone https://github.com/YOUR_USERNAME/monopoly-game.git
cd monopoly-game

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫ –≤ production
nohup python api_server.py &
nohup python -m http.server 3000 &
```

#### –î–ª—è Heroku:
1. –°–æ–∑–¥–∞–π—Ç–µ `Procfile`:
```
web: python api_server.py
```

2. –î–æ–±–∞–≤—å—Ç–µ –≤ `requirements.txt`:
```
gunicorn>=20.1.0
```

### ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:**

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** (F12)
2. **–£–≤–∏–¥–∏—Ç–µ –ª–æ–≥–∏**: `üîÑ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞...` ‚Üí `‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã —Å —Å–µ—Ä–≤–µ—Ä–∞`
3. **–ü—Ä–∏ –¥–µ–π—Å—Ç–≤–∏—è—Ö**: `‚úÖ –ò–≥—Ä–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä`
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ JSON —Ñ–∞–π–ª—ã** –≤ –ø–∞–ø–∫–µ `data/` - –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è

### üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

–¢–µ–ø–µ—Ä—å –≤–∞—à–∞ –∏–≥—Ä–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞ –æ—Ç localStorage –∏ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –ª—é–±–æ–º —Ö–æ—Å—Ç–∏–Ω–≥–µ! –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤ JSON —Ñ–∞–π–ª–∞—Ö, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

- ‚úÖ **–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö** - –¥–∞–Ω–Ω—ã–µ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è
- ‚úÖ **–†–∞–±–æ—Ç–∞ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ** - –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –±—Ä–∞—É–∑–µ—Ä–∞
- ‚úÖ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–µ–∑–¥–µ
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª–∞—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

---

**–ì–æ—Ç–æ–≤–æ –∫ —Ö–æ—Å—Ç–∏–Ω–≥—É! üéâ**

